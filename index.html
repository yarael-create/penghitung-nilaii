<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Penghitung Nilai</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
/* ================= THEME ================= */
:root{
  --bg:#0f172a;
  --card:#020617;
  --text:#f8fafc;
  --sub:#c7d2fe;
  --input:#020617;
  --border:#1e293b;
  --btn1:#818cf8;
  --btn2:#f472b6;
}

.light{
  --bg:#fde2ff;
  --card:#ffffff;
  --text:#020617;
  --sub:#475569;
  --input:#fff7fb;
  --border:#f3bcd4;
  --btn1:#fbc2eb;
  --btn2:#a6c1ee;
}

html,body{
  margin:0;
  height:100%;
  font-family:'Poppins',sans-serif;
  background:var(--bg);
  overflow:hidden;
  transition:0.3s;
}

/* ================= DOODLE BACKGROUND ================= */
.bg span{
  position:absolute;
  font-size:32px;
  opacity:0.28;
}

.float{animation:float 8s infinite ease-in-out;}
.spin{animation:spin 14s linear infinite;}
.pulse{animation:pulse 6s infinite ease-in-out;}

@keyframes float{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-18px);}
}
@keyframes spin{
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}
@keyframes pulse{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.15);}
}

/* POSISI DOODLE */
.d1{top:6%; left:8%;}
.d2{top:14%; right:10%;}
.d3{top:45%; left:3%;}
.d4{top:55%; right:5%;}
.d5{bottom:18%; left:10%;}
.d6{bottom:10%; right:15%;}
.d7{top:30%; left:18%;}
.d8{top:35%; right:20%;}
.d9{bottom:35%; left:20%;}
.d10{bottom:30%; right:22%;}

/* ================= APP ================= */
body{
  display:flex;
  justify-content:center;
  align-items:center;
}

.app{
  width:92%;
  max-width:420px;
  background:var(--card);
  padding:26px;
  border-radius:30px;
  text-align:center;
  box-shadow:0 25px 50px rgba(0,0,0,0.4);
  position:relative;
  z-index:2;
  transition:0.3s;
}

h1{color:var(--text)}
.sub{color:var(--sub); font-size:14px; margin-bottom:12px}

/* ================= INPUT ================= */
input{
  width:100%;
  padding:13px;
  margin-bottom:8px;
  border-radius:18px;
  border:1px dashed var(--border);
  background:var(--input);
  color:var(--text);
  font-size:14px;
}

/* ================= BUTTON ================= */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:22px;
  margin-top:8px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(135deg,var(--btn1),var(--btn2));
  transition:0.2s;
}

button:active{
  transform:scale(0.95);
}

.toggle{
  background:none;
  color:var(--text);
  font-size:20px;
  margin-bottom:10px;
}

/* ================= OUTPUT ================= */
#hasil{
  margin-top:14px;
  font-size:18px;
  font-weight:600;
  color:var(--text);
}

.motivasi{
  font-size:13px;
  font-style:italic;
  color:var(--sub);
}
</style>
</head>

<body>

<!-- DOODLE RAMAI -->
<div class="bg">
  <span class="d1 float">ğŸ“˜</span>
  <span class="d2 spin">âœï¸</span>
  <span class="d3 pulse">ğŸ“</span>
  <span class="d4 float">ğŸ¨</span>
  <span class="d5 spin">ğŸ“Š</span>
  <span class="d6 pulse">â­</span>
  <span class="d7 float">ğŸ“</span>
  <span class="d8 spin">ğŸ“</span>
  <span class="d9 pulse">ğŸ“š</span>
  <span class="d10 float">ğŸ’¡</span>
</div>

<div class="app">
  <button class="toggle" onclick="toggleMode()">ğŸŒ™ / â˜€ï¸</button>

  <h1>ğŸ“Š Hitung Nilai</h1>
  <div class="sub">Belajar jadi seru, lucu & estetik âœ¨</div>

  <div id="inputs">
    <input type="number" placeholder="Nilai 1">
    <input type="number" placeholder="Nilai 2">
    <input type="number" placeholder="Nilai 3">
  </div>

  <button onclick="tambahInput()">â• Tambah Nilai</button>
  <button onclick="hitung()">ğŸ€ Hitung Rata-rata</button>

  <div id="hasil"></div>
  <div class="motivasi" id="motivasi"></div>
</div>

<!-- SOUND -->
<audio id="klik" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3"></audio>
<audio id="bagus" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
<audio id="jelek" src="https://assets.mixkit.co/sfx/preview/mixkit-losing-drums-2023.mp3"></audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const body=document.body;

if(localStorage.getItem("mode")==="light"){
  body.classList.add("light");
}

function toggleMode(){
  body.classList.toggle("light");
  localStorage.setItem("mode",
    body.classList.contains("light")?"light":"dark"
  );
}

function play(id){
  const s=document.getElementById(id);
  s.currentTime=0;
  s.play();
}

function tambahInput(){
  play("klik");
  let i=document.createElement("input");
  i.type="number";
  i.placeholder="Nilai "+(inputs.children.length+1);
  inputs.appendChild(i);
}

function hitung(){
  play("klik");
  let inputs=document.querySelectorAll("#inputs input");
  let total=0;

  for(let i of inputs){
    if(i.value===""){
      hasil.innerHTML="âš ï¸ Lengkapi semua nilai dulu";
      motivasi.innerHTML="";
      play("jelek");
      return;
    }
    total+=Number(i.value);
  }

  let rata=total/inputs.length;
  hasil.innerHTML="ğŸ¯ Rata-rata:<br>"+rata.toFixed(2);

  let kata=[
    "Pelan-pelan tapi konsisten ğŸŒ±",
    "Belajar itu proses âœ¨",
    "Kamu sedang berkembang ğŸ’–",
    "Terus berusaha, kamu hebat ğŸŒˆ"
  ];
  motivasi.innerHTML=kata[Math.floor(Math.random()*kata.length)];

  if(rata>=80){
    play("bagus");
    confetti({particleCount:120,spread:80,origin:{y:0.6}});
  }else{
    play("jelek");
  }
}
</script>

</body>
</html>
